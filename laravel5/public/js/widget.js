var CitiesList=[{"cityCode":40374,"cityName":"阿尔山市","cityAbbr":"aess","cityEnglishName":"aershanshi","cityIataCode":"","pattern":"阿尔山市 40374 aershanshi aess ","value":"阿尔山市"},{"cityCode":2703,"cityName":"安康","cityAbbr":"ak","cityEnglishName":"ankang","cityIataCode":"AKA","pattern":"安康 2703 ankang ak AKA","value":"安康"},{"cityCode":3103,"cityName":"阿克苏","cityAbbr":"aks","cityEnglishName":"akesu","cityIataCode":"AKU","pattern":"阿克苏 3103 akesu aks AKU","value":"阿克苏"},{"cityCode":3203,"cityName":"阿里","cityAbbr":"al","cityEnglishName":"Ngari Prefecture","cityIataCode":"NGQ","pattern":"阿里 3203 Ngari Prefecture al NGQ","value":"阿里"},{"cityCode":3104,"cityName":"阿勒泰","cityAbbr":"alt","cityEnglishName":"aletai","cityIataCode":"AAT","pattern":"阿勒泰 3104 aletai alt AAT","value":"阿勒泰"},{"cityCode":103,"cityName":"安庆","cityAbbr":"aq","cityEnglishName":"anqing","cityIataCode":"AQG","pattern":"安庆 103 anqing aq AQG","value":"安庆"},{"cityCode":803,"cityName":"安顺","cityAbbr":"as","cityEnglishName":"anshun","cityIataCode":"AVA","pattern":"安顺 803 anshun as AVA","value":"安顺"},{"cityCode":1903,"cityName":"鞍山","cityAbbr":"as","cityEnglishName":"anshan","cityIataCode":"AOG","pattern":"鞍山 1903 anshan as AOG","value":"鞍山"},{"cityCode":1203,"cityName":"安阳","cityAbbr":"ay","cityEnglishName":"anyang","cityIataCode":"","pattern":"安阳 1203 anyang ay ","value":"安阳"},{"cityCode":104,"cityName":"蚌埠","cityAbbr":"bb","cityEnglishName":"bangbu","cityIataCode":"","pattern":"蚌埠 104 bangbu bb ","value":"蚌埠"},{"cityCode":42690,"cityName":"布尔津县","cityAbbr":"bejx","cityEnglishName":"buerjinxian","cityIataCode":"","pattern":"布尔津县 42690 buerjinxian bejx ","value":"布尔津县"},{"cityCode":3106,"cityName":"博尔塔拉","cityAbbr":"betl","cityEnglishName":"boertala","cityIataCode":"BPL","pattern":"博尔塔拉 3106 boertala betl BPL","value":"博尔塔拉"},{"cityCode":704,"cityName":"北海","cityAbbr":"bh","cityEnglishName":"beihai","cityIataCode":"BHY","pattern":"北海 704 beihai bh BHY","value":"北海"},{"cityCode":200,"cityName":"北京","cityAbbr":"bj","cityEnglishName":"beijing","cityIataCode":"PEK","pattern":"北京 200 beijing bj PEK","value":"北京"},{"cityCode":804,"cityName":"毕节","cityAbbr":"bj","cityEnglishName":"bijie","cityIataCode":"BFJ","pattern":"毕节 804 bijie bj BFJ","value":"毕节"},{"cityCode":1804,"cityName":"白山","cityAbbr":"bs","cityEnglishName":"baishan","cityIataCode":"NBS","pattern":"白山 1804 baishan bs NBS","value":"白山"},{"cityCode":3304,"cityName":"保山","cityAbbr":"bs","cityEnglishName":"baoshan","cityIataCode":"BSD","pattern":"保山 3304 baoshan bs BSD","value":"保山"},{"cityCode":703,"cityName":"百色","cityAbbr":"bs","cityEnglishName":"baise","cityIataCode":"AEB","pattern":"百色 703 baise bs AEB","value":"百色"},{"cityCode":2104,"cityName":"包头","cityAbbr":"bt","cityEnglishName":"baotou","cityIataCode":"BAV","pattern":"包头 2104 baotou bt BAV","value":"包头"},{"cityCode":2109,"cityName":"巴彦淖尔","cityAbbr":"byne","cityEnglishName":"bayannaoer","cityIataCode":"RLK","pattern":"巴彦淖尔 2109 bayannaoer byne RLK","value":"巴彦淖尔"},{"cityCode":1503,"cityName":"常德","cityAbbr":"cd","cityEnglishName":"changde","cityIataCode":"CGD","pattern":"常德 1503 changde cd CGD","value":"常德"},{"cityCode":3204,"cityName":"昌都","cityAbbr":"cd","cityEnglishName":"changdu","cityIataCode":"","pattern":"昌都 3204 changdu cd ","value":"昌都"},{"cityCode":2802,"cityName":"成都","cityAbbr":"cd","cityEnglishName":"chengdu","cityIataCode":"CTU","pattern":"成都 2802 chengdu cd CTU","value":"成都"},{"cityCode":2105,"cityName":"赤峰","cityAbbr":"cf","cityEnglishName":"chifeng","cityIataCode":"CIF","pattern":"赤峰 2105 chifeng cf CIF","value":"赤峰"},{"cityCode":42668,"cityName":"策勒县","cityAbbr":"clx","cityEnglishName":"celexian","cityIataCode":"","pattern":"策勒县 42668 celexian clx ","value":"策勒县"},{"cityCode":300,"cityName":"重庆","cityAbbr":"cq","cityEnglishName":"chongqing","cityIataCode":"CKG","pattern":"重庆 300 chongqing cq CKG","value":"重庆"},{"cityCode":1502,"cityName":"长沙","cityAbbr":"cs","cityEnglishName":"changsha","cityIataCode":"CSX","pattern":"长沙 1502 changsha cs CSX","value":"长沙"},{"cityCode":206,"cityName":"朝阳","cityAbbr":"cy","cityEnglishName":"chaoyang","cityIataCode":"","pattern":"朝阳 206 chaoyang cy ","value":"朝阳"},{"cityCode":1604,"cityName":"常州","cityAbbr":"cz","cityEnglishName":"changzhou","cityIataCode":"CZX","pattern":"常州 1604 changzhou cz CZX","value":"常州"},{"cityCode":109,"cityName":"池州","cityAbbr":"cz","cityEnglishName":"chizhou","cityIataCode":"JUH","pattern":"池州 109 chizhou cz JUH","value":"池州"},{"cityCode":42031,"cityName":"稻城县","cityAbbr":"dcx","cityEnglishName":"daochengxian","cityIataCode":"DCY","pattern":"稻城县 42031 daochengxian dcx DCY","value":"稻城县"},{"cityCode":1907,"cityName":"丹东","cityAbbr":"dd","cityEnglishName":"dandong","cityIataCode":"DLU","pattern":"丹东 1907 dandong dd DLU","value":"丹东"},{"cityCode":911,"cityName":"东方","cityAbbr":"df","cityEnglishName":"dongfang","cityIataCode":"","pattern":"东方 911 dongfang df ","value":"东方"},{"cityCode":505,"cityName":"敦煌市","cityAbbr":"dhs","cityEnglishName":"dunhuangshi","cityIataCode":"DNH","pattern":"敦煌市 505 dunhuangshi dhs DNH","value":"敦煌市"},{"cityCode":3306,"cityName":"大理","cityAbbr":"dl","cityEnglishName":"dali","cityIataCode":"DLU","pattern":"大理 3306 dali dl DLU","value":"大理"},{"cityCode":1906,"cityName":"大连","cityAbbr":"dl","cityEnglishName":"dalian","cityIataCode":"DLC","pattern":"大连 1906 dalian dl DLC","value":"大连"},{"cityCode":3320,"cityName":"迪庆","cityAbbr":"dq","cityEnglishName":"diqing","cityIataCode":"DIG","pattern":"迪庆 3320 diqing dq DIG","value":"迪庆"},{"cityCode":1104,"cityName":"大庆","cityAbbr":"dq","cityEnglishName":"daqing","cityIataCode":"DQA","pattern":"大庆 1104 daqing dq DQA","value":"大庆"},{"cityCode":2604,"cityName":"大同","cityAbbr":"dt","cityEnglishName":"datong","cityIataCode":"DAT","pattern":"大同 2604 datong dt DAT","value":"大同"},{"cityCode":1105,"cityName":"大兴安岭","cityAbbr":"dxal","cityEnglishName":"daxinganling","cityIataCode":"JGD","pattern":"大兴安岭 1105 daxinganling dxal JGD","value":"大兴安岭"},{"cityCode":2406,"cityName":"东营","cityAbbr":"dy","cityEnglishName":"dongying","cityIataCode":"","pattern":"东营 2406 dongying dy ","value":"东营"},{"cityCode":2804,"cityName":"达州","cityAbbr":"dz","cityEnglishName":"dazhou","cityIataCode":"","pattern":"达州 2804 dazhou dz ","value":"达州"},{"cityCode":2106,"cityName":"鄂尔多斯","cityAbbr":"eeds","cityEnglishName":"eerduosi","cityIataCode":"DSN","pattern":"鄂尔多斯 2106 eerduosi eeds DSN","value":"鄂尔多斯"},{"cityCode":40379,"cityName":"二连浩特市","cityAbbr":"elhts","cityEnglishName":"erlianhaoteshi","cityIataCode":"","pattern":"二连浩特市 40379 erlianhaoteshi elhts ","value":"二连浩特市"},{"cityCode":1403,"cityName":"恩施","cityAbbr":"es","cityEnglishName":"enshi","cityIataCode":"ENY","pattern":"恩施 1403 enshi es ENY","value":"恩施"},{"cityCode":607,"cityName":"佛山","cityAbbr":"fs","cityEnglishName":"foshan","cityIataCode":"FUO","pattern":"佛山 607 foshan fs FUO","value":"佛山"},{"cityCode":108,"cityName":"阜阳","cityAbbr":"fy","cityEnglishName":"fuyang","cityIataCode":"FUG","pattern":"阜阳 108 fuyang fy FUG","value":"阜阳"},{"cityCode":42691,"cityName":"富蕴县","cityAbbr":"fyx","cityEnglishName":"fuyunxian","cityIataCode":"","pattern":"富蕴县 42691 fuyunxian fyx ","value":"富蕴县"},{"cityCode":402,"cityName":"福州","cityAbbr":"fz","cityEnglishName":"fuzhou","cityIataCode":"FOC","pattern":"福州 402 fuzhou fz FOC","value":"福州"},{"cityCode":42571,"cityName":"格尔木市","cityAbbr":"gems","cityEnglishName":"geermushi","cityIataCode":"","pattern":"格尔木市 42571 geermushi gems ","value":"格尔木市"},{"cityCode":41911,"cityName":"广汉市","cityAbbr":"ghs","cityEnglishName":"guanghanshi","cityIataCode":"","pattern":"广汉市 41911 guanghanshi ghs ","value":"广汉市"},{"cityCode":705,"cityName":"桂林","cityAbbr":"gl","cityEnglishName":"guilin","cityIataCode":"KWL","pattern":"桂林 705 guilin gl KWL","value":"桂林"},{"cityCode":506,"cityName":"甘南","cityAbbr":"gn","cityEnglishName":"gannan","cityIataCode":"GXH","pattern":"甘南 506 gannan gn GXH","value":"甘南"},{"cityCode":2906,"cityName":"高雄市","cityAbbr":"gxs","cityEnglishName":"gaoxiongshi","cityIataCode":"","pattern":"高雄市 2906 gaoxiongshi gxs ","value":"高雄市"},{"cityCode":2203,"cityName":"固原","cityAbbr":"gy","cityEnglishName":"guyuan","cityIataCode":"GYU","pattern":"固原 2203 guyuan gy GYU","value":"固原"},{"cityCode":802,"cityName":"贵阳","cityAbbr":"gy","cityEnglishName":"guiyang","cityIataCode":"KWE","pattern":"贵阳 802 guiyang gy KWE","value":"贵阳"},{"cityCode":2810,"cityName":"广元","cityAbbr":"gy","cityEnglishName":"guangyuan","cityIataCode":"","pattern":"广元 2810 guangyuan gy ","value":"广元"},{"cityCode":602,"cityName":"广州","cityAbbr":"gz","cityEnglishName":"guangzhou","cityIataCode":"CAN","pattern":"广州 602 guangzhou gz CAN","value":"广州"},{"cityCode":1704,"cityName":"赣州","cityAbbr":"gz","cityEnglishName":"ganzhou","cityIataCode":"KOW","pattern":"赣州 1704 ganzhou gz KOW","value":"赣州"},{"cityCode":1606,"cityName":"淮安","cityAbbr":"ha","cityEnglishName":"huaian","cityIataCode":"HIA","pattern":"淮安 1606 huaian ha HIA","value":"淮安"},{"cityCode":1008,"cityName":"邯郸","cityAbbr":"hd","cityEnglishName":"handan","cityIataCode":"HDG","pattern":"邯郸 1008 handan hd HDG","value":"邯郸"},{"cityCode":1102,"cityName":"哈尔滨","cityAbbr":"heb","cityEnglishName":"Harbin","cityIataCode":"HRB","pattern":"哈尔滨 1102 Harbin heb HRB","value":"哈尔滨"},{"cityCode":102,"cityName":"合肥","cityAbbr":"hf","cityEnglishName":"hefei","cityIataCode":"HFE","pattern":"合肥 102 hefei hf HFE","value":"合肥"},{"cityCode":1107,"cityName":"黑河","cityAbbr":"hh","cityEnglishName":"heihe","cityIataCode":"HEK","pattern":"黑河 1107 heihe hh HEK","value":"黑河"},{"cityCode":1506,"cityName":"怀化","cityAbbr":"hh","cityEnglishName":"huaihua","cityIataCode":"HJJ","pattern":"怀化 1506 huaihua hh HJJ","value":"怀化"},{"cityCode":2102,"cityName":"呼和浩特","cityAbbr":"hhht","cityEnglishName":"huhehaote","cityIataCode":"HET","pattern":"呼和浩特 2102 huhehaote hhht HET","value":"呼和浩特"},{"cityCode":902,"cityName":"海口","cityAbbr":"hk","cityEnglishName":"Haikou City","cityIataCode":"HAK","pattern":"海口 902 Haikou City hk HAK","value":"海口"},{"cityCode":40342,"cityName":"海拉尔区","cityAbbr":"hleq","cityEnglishName":"hailaerqu","cityIataCode":"HLD","pattern":"海拉尔区 40342 hailaerqu hleq HLD","value":"海拉尔区"},{"cityCode":785259,"cityName":"花莲市","cityAbbr":"hls","cityEnglishName":"hualianshi","cityIataCode":"","pattern":"花莲市 785259 hualianshi hls ","value":"花莲市"},{"cityCode":3109,"cityName":"哈密","cityAbbr":"hm","cityEnglishName":"hami","cityIataCode":"","pattern":"哈密 3109 hami hm ","value":"哈密"},{"cityCode":113,"cityName":"黄山","cityAbbr":"hs","cityEnglishName":"huangshan","cityIataCode":"TXN","pattern":"黄山 113 huangshan hs TXN","value":"黄山"},{"cityCode":3110,"cityName":"和田","cityAbbr":"ht","cityEnglishName":"hetian","cityIataCode":"","pattern":"和田 3110 hetian ht ","value":"和田"},{"cityCode":1505,"cityName":"衡阳","cityAbbr":"hy","cityEnglishName":"hengyang","cityIataCode":"","pattern":"衡阳 1505 hengyang hy ","value":"衡阳"},{"cityCode":3402,"cityName":"杭州","cityAbbr":"hz","cityEnglishName":"hangzhou","cityIataCode":"HGH","pattern":"杭州 3402 hangzhou hz HGH","value":"杭州"},{"cityCode":609,"cityName":"惠州","cityAbbr":"hz","cityEnglishName":"huizhou","cityIataCode":"HUZ","pattern":"惠州 609 huizhou hz HUZ","value":"惠州"},{"cityCode":2705,"cityName":"汉中","cityAbbr":"hz","cityEnglishName":"hanzhong","cityIataCode":"HZG","pattern":"汉中 2705 hanzhong hz HZG","value":"汉中"},{"cityCode":507,"cityName":"金昌","cityAbbr":"jc","cityEnglishName":"jinchang","cityIataCode":"JIC","pattern":"金昌 507 jinchang jc JIC","value":"金昌"},{"cityCode":1706,"cityName":"景德镇","cityAbbr":"jdz","cityEnglishName":"jingdezhen","cityIataCode":"JDZ","pattern":"景德镇 1706 jingdezhen jdz JDZ","value":"景德镇"},{"cityCode":1707,"cityName":"井冈山市","cityAbbr":"jgss","cityEnglishName":"jinggangshanshi","cityIataCode":"","pattern":"井冈山市 1707 jinggangshanshi jgss ","value":"井冈山市"},{"cityCode":1708,"cityName":"九江","cityAbbr":"jj","cityEnglishName":"jiujiang","cityIataCode":"JIU","pattern":"九江 1708 jiujiang jj JIU","value":"九江"},{"cityCode":1808,"cityName":"吉林","cityAbbr":"jl","cityEnglishName":"jilin","cityIataCode":"JIL","pattern":"吉林 1808 jilin jl JIL","value":"吉林"},{"cityCode":1108,"cityName":"佳木斯","cityAbbr":"jms","cityEnglishName":"jiamusi","cityIataCode":"JMU","pattern":"佳木斯 1108 jiamusi jms JMU","value":"佳木斯"},{"cityCode":2402,"cityName":"济南","cityAbbr":"jn","cityEnglishName":"jinan","cityIataCode":"TNA","pattern":"济南 2402 jinan jn TNA","value":"济南"},{"cityCode":508,"cityName":"酒泉","cityAbbr":"jq","cityEnglishName":"jiuquan","cityIataCode":"","pattern":"酒泉 508 jiuquan jq ","value":"酒泉"},{"cityCode":1109,"cityName":"鸡西","cityAbbr":"jx","cityEnglishName":"jixi","cityIataCode":"JXA","pattern":"鸡西 1109 jixi jx JXA","value":"鸡西"},{"cityCode":516,"cityName":"嘉峪关","cityAbbr":"jyg","cityEnglishName":"jiayuguan","cityIataCode":"JGN","pattern":"嘉峪关 516 jiayuguan jyg JGN","value":"嘉峪关"},{"cityCode":1408,"cityName":"荆州","cityAbbr":"jz","cityEnglishName":"jingzhou","cityIataCode":"","pattern":"荆州 1408 jingzhou jz ","value":"荆州"},{"cityCode":1911,"cityName":"锦州","cityAbbr":"jz","cityEnglishName":"jinzhou","cityIataCode":"JNZ","pattern":"锦州 1911 jinzhou jz JNZ","value":"锦州"},{"cityCode":2811,"cityName":"九寨沟县","cityAbbr":"jzgx","cityEnglishName":"jiuzhaigouxian","cityIataCode":"JZH","pattern":"九寨沟县 2811 jiuzhaigouxian jzgx JZH","value":"九寨沟县"},{"cityCode":42639,"cityName":"库车县","cityAbbr":"kcx","cityEnglishName":"kuchexian","cityIataCode":"","pattern":"库车县 42639 kuchexian kcx ","value":"库车县"},{"cityCode":42015,"cityName":"康定县","cityAbbr":"kdx","cityEnglishName":"kangdingxian","cityIataCode":"","pattern":"康定县 42015 kangdingxian kdx ","value":"康定县"},{"cityCode":3112,"cityName":"克拉玛依","cityAbbr":"klmy","cityEnglishName":"kelamayi","cityIataCode":"","pattern":"克拉玛依 3112 kelamayi klmy ","value":"克拉玛依"},{"cityCode":3302,"cityName":"昆明","cityAbbr":"km","cityEnglishName":"kunming","cityIataCode":"KMG","pattern":"昆明 3302 kunming km KMG","value":"昆明"},{"cityCode":3111,"cityName":"喀什","cityAbbr":"ks","cityEnglishName":"kashi","cityIataCode":"KHG","pattern":"喀什 3111 kashi ks KHG","value":"喀什"},{"cityCode":3311,"cityName":"临沧","cityAbbr":"lc","cityEnglishName":"lincang","cityIataCode":"","pattern":"临沧 3311 lincang lc ","value":"临沧"},{"cityCode":41723,"cityName":"龙川县","cityAbbr":"lcx","cityEnglishName":"longchuanxian","cityIataCode":"","pattern":"龙川县 41723 longchuanxian lcx ","value":"龙川县"},{"cityCode":41016,"cityName":"连城县","cityAbbr":"lcx","cityEnglishName":"lianchengxian","cityIataCode":"","pattern":"连城县 41016 lianchengxian lcx ","value":"连城县"},{"cityCode":3312,"cityName":"丽江","cityAbbr":"lj","cityEnglishName":"lijiang","cityIataCode":"LJG","pattern":"丽江 3312 lijiang lj LJG","value":"丽江"},{"cityCode":42121,"cityName":"黎平县","cityAbbr":"lpx","cityEnglishName":"lipingxian","cityIataCode":"","pattern":"黎平县 42121 lipingxian lpx ","value":"黎平县"},{"cityCode":3202,"cityName":"拉萨","cityAbbr":"ls","cityEnglishName":"Lhasa","cityIataCode":"LXA","pattern":"拉萨 3202 Lhasa ls LXA","value":"拉萨"},{"cityCode":2411,"cityName":"临沂","cityAbbr":"ly","cityEnglishName":"linyi","cityIataCode":"LYI","pattern":"临沂 2411 linyi ly LYI","value":"临沂"},{"cityCode":1210,"cityName":"洛阳","cityAbbr":"ly","cityEnglishName":"luoyang","cityIataCode":"LYA","pattern":"洛阳 1210 luoyang ly LYA","value":"洛阳"},{"cityCode":1610,"cityName":"连云港","cityAbbr":"lyg","cityEnglishName":"lianyungang","cityIataCode":"LYG","pattern":"连云港 1610 lianyungang lyg LYG","value":"连云港"},{"cityCode":709,"cityName":"柳州","cityAbbr":"lz","cityEnglishName":"liuzhou","cityIataCode":"LZH","pattern":"柳州 709 liuzhou lz LZH","value":"柳州"},{"cityCode":502,"cityName":"兰州","cityAbbr":"lz","cityEnglishName":"lanzhoushi","cityIataCode":"LHW","pattern":"兰州 502 lanzhoushi lz LHW","value":"兰州"},{"cityCode":3205,"cityName":"林芝","cityAbbr":"lz","cityEnglishName":"Nyingchi Prefecture","cityIataCode":"LZY","pattern":"林芝 3205 Nyingchi Prefecture lz LZY","value":"林芝"},{"cityCode":2814,"cityName":"泸州","cityAbbr":"lz","cityEnglishName":"zhou","cityIataCode":"LZO","pattern":"泸州 2814 zhou lz LZO","value":"泸州"},{"cityCode":1110,"cityName":"牡丹江","cityAbbr":"mdj","cityEnglishName":"mudanjiang","cityIataCode":"MDG","pattern":"牡丹江 1110 mudanjiang mdj MDG","value":"牡丹江"},{"cityCode":40679,"cityName":"漠河县","cityAbbr":"mhx","cityEnglishName":"mohexian","cityIataCode":"","pattern":"漠河县 40679 mohexian mhx ","value":"漠河县"},{"cityCode":3324,"cityName":"芒市","cityAbbr":"ms","cityEnglishName":"mangshi","cityIataCode":"LUM","pattern":"芒市 3324 mangshi ms LUM","value":"芒市"},{"cityCode":2816,"cityName":"绵阳","cityAbbr":"my","cityEnglishName":"mianyang","cityIataCode":"MIG","pattern":"绵阳 2816 mianyang my MIG","value":"绵阳"},{"cityCode":614,"cityName":"梅州","cityAbbr":"mz","cityEnglishName":"meizhou","cityIataCode":"MXZ","pattern":"梅州 614 meizhou mz MXZ","value":"梅州"},{"cityCode":40350,"cityName":"满洲里市","cityAbbr":"mzls","cityEnglishName":"manzhoulishi","cityIataCode":"","pattern":"满洲里市 40350 manzhoulishi mzls ","value":"满洲里市"},{"cityCode":3415,"cityName":"宁波","cityAbbr":"nb","cityEnglishName":"ningbo","cityIataCode":"NGB","pattern":"宁波 3415 ningbo nb NGB","value":"宁波"},{"cityCode":2818,"cityName":"南充","cityAbbr":"nc","cityEnglishName":"nanchong","cityIataCode":"NAO","pattern":"南充 2818 nanchong nc NAO","value":"南充"},{"cityCode":1702,"cityName":"南昌","cityAbbr":"nc","cityEnglishName":"nanchang","cityIataCode":"KHN","pattern":"南昌 1702 nanchang nc KHN","value":"南昌"},{"cityCode":1602,"cityName":"南京","cityAbbr":"nj","cityEnglishName":"nanjing","cityIataCode":"NKG","pattern":"南京 1602 nanjing nj NKG","value":"南京"},{"cityCode":702,"cityName":"南宁","cityAbbr":"nn","cityEnglishName":"nanning","cityIataCode":"NNG","pattern":"南宁 702 nanning nn NNG","value":"南宁"},{"cityCode":1611,"cityName":"南通","cityAbbr":"nt","cityEnglishName":"nantong","cityIataCode":"NTG","pattern":"南通 1611 nantong nt NTG","value":"南通"},{"cityCode":1211,"cityName":"南阳","cityAbbr":"ny","cityEnglishName":"nanyang","cityIataCode":"","pattern":"南阳 1211 nanyang ny ","value":"南阳"},{"cityCode":3316,"cityName":"普洱","cityAbbr":"pe","cityEnglishName":"puer","cityIataCode":"","pattern":"普洱 3316 puer pe ","value":"普洱"},{"cityCode":2820,"cityName":"攀枝花","cityAbbr":"pzh","cityEnglishName":"panzhihua","cityIataCode":"","pattern":"攀枝花 2820 panzhihua pzh ","value":"攀枝花"},{"cityCode":2413,"cityName":"青岛","cityAbbr":"qd","cityEnglishName":"qingdao","cityIataCode":"TAO","pattern":"青岛 2413 qingdao qd TAO","value":"青岛"},{"cityCode":1012,"cityName":"秦皇岛","cityAbbr":"qhd","cityEnglishName":"qinhuangdao","cityIataCode":"SHP","pattern":"秦皇岛 1012 qinhuangdao qhd SHP","value":"秦皇岛"},{"cityCode":315,"cityName":"黔江","cityAbbr":"qj","cityEnglishName":"qianjiang","cityIataCode":"","pattern":"黔江 315 qianjiang qj ","value":"黔江"},{"cityCode":42632,"cityName":"且末县","cityAbbr":"qmx","cityEnglishName":"qiemoxian","cityIataCode":"","pattern":"且末县 42632 qiemoxian qmx ","value":"且末县"},{"cityCode":805,"cityName":"黔南","cityAbbr":"qn","cityEnglishName":"qiannan","cityIataCode":"LLB","pattern":"黔南 805 qiannan qn LLB","value":"黔南"},{"cityCode":1111,"cityName":"齐齐哈尔","cityAbbr":"qqhe","cityEnglishName":"qiqihaer","cityIataCode":"NDG","pattern":"齐齐哈尔 1111 qiqihaer qqhe NDG","value":"齐齐哈尔"},{"cityCode":809,"cityName":"黔西南","cityAbbr":"qxn","cityEnglishName":"qianxinan","cityIataCode":"ACX","pattern":"黔西南 809 qianxinan qxn ACX","value":"黔西南"},{"cityCode":514,"cityName":"庆阳","cityAbbr":"qy","cityEnglishName":"qingyang","cityIataCode":"","pattern":"庆阳 514 qingyang qy ","value":"庆阳"},{"cityCode":408,"cityName":"泉州","cityAbbr":"qz","cityEnglishName":"quanzhou","cityIataCode":"JJN","pattern":"泉州 408 quanzhou qz JJN","value":"泉州"},{"cityCode":3419,"cityName":"衢州","cityAbbr":"qz","cityEnglishName":"zhou","cityIataCode":"JUZ","pattern":"衢州 3419 zhou qz JUZ","value":"衢州"},{"cityCode":3207,"cityName":"日喀则","cityAbbr":"rkz","cityEnglishName":"rikaze","cityIataCode":"RKZ","pattern":"日喀则 3207 rikaze rkz RKZ","value":"日喀则"},{"cityCode":618,"cityName":"韶关","cityAbbr":"sg","cityEnglishName":"shaoguan","cityIataCode":"HSC","pattern":"韶关 618 shaoguan sg HSC","value":"韶关"},{"cityCode":2500,"cityName":"上海","cityAbbr":"sh","cityEnglishName":"Shanghai","cityIataCode":"SHA","pattern":"上海 2500 Shanghai sh SHA","value":"上海"},{"cityCode":40163,"cityName":"三河市","cityAbbr":"shs","cityEnglishName":"sanheshi","cityIataCode":"","pattern":"三河市 40163 sanheshi shs ","value":"三河市"},{"cityCode":1002,"cityName":"石家庄","cityAbbr":"sjz","cityEnglishName":"shijiazhuang","cityIataCode":"SJW","pattern":"石家庄 1002 shijiazhuang sjz SJW","value":"石家庄"},{"cityCode":414,"cityName":"厦门","cityAbbr":"sm","cityEnglishName":"xiamen","cityIataCode":"XMN","pattern":"厦门 414 xiamen sm XMN","value":"厦门"},{"cityCode":616,"cityName":"汕头","cityAbbr":"st","cityEnglishName":"shantou","cityIataCode":"SWA","pattern":"汕头 616 shantou st SWA","value":"汕头"},{"cityCode":1902,"cityName":"沈阳","cityAbbr":"sy","cityEnglishName":"shenyang","cityIataCode":"SHE","pattern":"沈阳 1902 shenyang sy SHE","value":"沈阳"},{"cityCode":906,"cityName":"三亚","cityAbbr":"sy","cityEnglishName":"sanya","cityIataCode":"SYX","pattern":"三亚 906 sanya sy SYX","value":"三亚"},{"cityCode":619,"cityName":"深圳","cityAbbr":"sz","cityEnglishName":"shenzhen","cityIataCode":"SZX","pattern":"深圳 619 shenzhen sz SZX","value":"深圳"},{"cityCode":3117,"cityName":"塔城","cityAbbr":"tc","cityEnglishName":"tacheng","cityIataCode":"","pattern":"塔城 3117 tacheng tc ","value":"塔城"},{"cityCode":3323,"cityName":"腾冲县","cityAbbr":"tcx","cityEnglishName":"tengchongxian","cityIataCode":"TCZ","pattern":"腾冲县 3323 tengchongxian tcx TCZ","value":"腾冲县"},{"cityCode":1811,"cityName":"通化","cityAbbr":"th","cityEnglishName":"tonghua","cityIataCode":"","pattern":"通化 1811 tonghua th ","value":"通化"},{"cityCode":3000,"cityName":"天津","cityAbbr":"tj","cityEnglishName":"tianjin","cityIataCode":"TSN","pattern":"天津 3000 tianjin tj TSN","value":"天津"},{"cityCode":2110,"cityName":"通辽","cityAbbr":"tl","cityEnglishName":"tongliao","cityIataCode":"TGO","pattern":"通辽 2110 tongliao tl TGO","value":"通辽"},{"cityCode":3118,"cityName":"吐鲁番","cityAbbr":"tlf","cityEnglishName":"tulufan","cityIataCode":"TLQ","pattern":"吐鲁番 3118 tulufan tlf TLQ","value":"吐鲁番"},{"cityCode":808,"cityName":"铜仁","cityAbbr":"tr","cityEnglishName":"tongren","cityIataCode":"","pattern":"铜仁 808 tongren tr ","value":"铜仁"},{"cityCode":511,"cityName":"天水","cityAbbr":"ts","cityEnglishName":"tianshui","cityIataCode":"THQ","pattern":"天水 511 tianshui ts THQ","value":"天水"},{"cityCode":1013,"cityName":"唐山","cityAbbr":"ts","cityEnglishName":"tangshan","cityIataCode":"TVS","pattern":"唐山 1013 tangshan ts TVS","value":"唐山"},{"cityCode":2602,"cityName":"太原","cityAbbr":"ty","cityEnglishName":"taiyuan","cityIataCode":"TYN","pattern":"太原 2602 taiyuan ty TYN","value":"太原"},{"cityCode":3424,"cityName":"台州","cityAbbr":"tz","cityEnglishName":"taizhou","cityIataCode":"HYN","pattern":"台州 3424 taizhou tz HYN","value":"台州"},{"cityCode":2905,"cityName":"台中市","cityAbbr":"tzs","cityEnglishName":"taizhongshi","cityIataCode":"","pattern":"台中市 2905 taizhongshi tzs ","value":"台中市"},{"cityCode":787140,"cityName":"望安乡","cityAbbr":"wax","cityEnglishName":"wanganxiang","cityIataCode":"","pattern":"望安乡 787140 wanganxiang wax ","value":"望安乡"},{"cityCode":2417,"cityName":"潍坊","cityAbbr":"wf","cityEnglishName":"weifang","cityIataCode":"WEF","pattern":"潍坊 2417 weifang wf WEF","value":"潍坊"},{"cityCode":1402,"cityName":"武汉","cityAbbr":"wh","cityEnglishName":"wuhan","cityIataCode":"WUH","pattern":"武汉 1402 wuhan wh WUH","value":"武汉"},{"cityCode":2418,"cityName":"威海","cityAbbr":"wh","cityEnglishName":"weihai","cityIataCode":"WEH","pattern":"威海 2418 weihai wh WEH","value":"威海"},{"cityCode":2111,"cityName":"乌海","cityAbbr":"wh","cityEnglishName":"wuhai","cityIataCode":"","pattern":"乌海 2111 wuhai wh ","value":"乌海"},{"cityCode":40373,"cityName":"乌兰浩特市","cityAbbr":"wlhts","cityEnglishName":"wulanhaoteshi","cityIataCode":"HLH","pattern":"乌兰浩特市 40373 wulanhaoteshi wlhts HLH","value":"乌兰浩特市"},{"cityCode":3102,"cityName":"乌鲁木齐","cityAbbr":"wlmq","cityEnglishName":"wulumuqi","cityIataCode":"URC","pattern":"乌鲁木齐 3102 wulumuqi wlmq URC","value":"乌鲁木齐"},{"cityCode":3317,"cityName":"文山","cityAbbr":"ws","cityEnglishName":"wenshan","cityIataCode":"WNH","pattern":"文山 3317 wenshan ws WNH","value":"文山"},{"cityCode":1619,"cityName":"无锡","cityAbbr":"wx","cityEnglishName":"wuxi","cityIataCode":"WUX","pattern":"无锡 1619 wuxi wx WUX","value":"无锡"},{"cityCode":413,"cityName":"武夷山市","cityAbbr":"wyss","cityEnglishName":"wuyishanshi","cityIataCode":"WUS","pattern":"武夷山市 413 wuyishanshi wyss WUS","value":"武夷山市"},{"cityCode":3426,"cityName":"温州","cityAbbr":"wz","cityEnglishName":"wenzhou","cityIataCode":"WNZ","pattern":"温州 3426 wenzhou wz WNZ","value":"温州"},{"cityCode":302,"cityName":"万州","cityAbbr":"wz","cityEnglishName":"wanzhou","cityIataCode":"WXN","pattern":"万州 302 wanzhou wz WXN","value":"万州"},{"cityCode":711,"cityName":"梧州","cityAbbr":"wz","cityEnglishName":"wuzhou","cityIataCode":"WUZ","pattern":"梧州 711 wuzhou wz WUZ","value":"梧州"},{"cityCode":2702,"cityName":"西安","cityAbbr":"xa","cityEnglishName":"xian","cityIataCode":"SIA","pattern":"西安 2702 xian xa SIA","value":"西安"},{"cityCode":2828,"cityName":"西昌市","cityAbbr":"xcs","cityEnglishName":"xichangshi","cityIataCode":"","pattern":"西昌市 2828 xichangshi xcs ","value":"西昌市"},{"cityCode":40380,"cityName":"锡林浩特市","cityAbbr":"xlhts","cityEnglishName":"xilinhaoteshi","cityIataCode":"XIL","pattern":"锡林浩特市 40380 xilinhaoteshi xlhts XIL","value":"锡林浩特市"},{"cityCode":2302,"cityName":"西宁","cityAbbr":"xn","cityEnglishName":"xining","cityIataCode":"XNN","pattern":"西宁 2302 xining xn XNN","value":"西宁"},{"cityCode":3318,"cityName":"西双版纳","cityAbbr":"xsbn","cityEnglishName":"xishuangbanna","cityIataCode":"JHG","pattern":"西双版纳 3318 xishuangbanna xsbn JHG","value":"西双版纳"},{"cityCode":1015,"cityName":"邢台","cityAbbr":"xt","cityEnglishName":"xingtai","cityIataCode":"XNT","pattern":"邢台 1015 xingtai xt XNT","value":"邢台"},{"cityCode":1416,"cityName":"襄阳","cityAbbr":"xy","cityEnglishName":"xiangyang","cityIataCode":"XFN","pattern":"襄阳 1416 xiangyang xy XFN","value":"襄阳"},{"cityCode":42678,"cityName":"新源县","cityAbbr":"xyx","cityEnglishName":"xinyuanxian","cityIataCode":"","pattern":"新源县 42678 xinyuanxian xyx ","value":"新源县"},{"cityCode":1620,"cityName":"徐州","cityAbbr":"xz","cityEnglishName":"xuzhou","cityIataCode":"XUZ","pattern":"徐州 1620 xuzhou xz XUZ","value":"徐州"},{"cityCode":2711,"cityName":"延安","cityAbbr":"ya","cityEnglishName":"yanan","cityIataCode":"ENY","pattern":"延安 2711 yanan ya ENY","value":"延安"},{"cityCode":2825,"cityName":"宜宾","cityAbbr":"yb","cityEnglishName":"yibin","cityIataCode":"YBP","pattern":"宜宾 2825 yibin yb YBP","value":"宜宾"},{"cityCode":1621,"cityName":"盐城","cityAbbr":"yc","cityEnglishName":"yancheng","cityIataCode":"YNZ","pattern":"盐城 1621 yancheng yc YNZ","value":"盐城"},{"cityCode":2202,"cityName":"银川","cityAbbr":"yc","cityEnglishName":"yinchuan","cityIataCode":"INC","pattern":"银川 2202 yinchuan yc INC","value":"银川"},{"cityCode":1418,"cityName":"宜昌","cityAbbr":"yc","cityEnglishName":"yichang","cityIataCode":"YIH","pattern":"宜昌 1418 yichang yc YIH","value":"宜昌"},{"cityCode":1713,"cityName":"宜春","cityAbbr":"yc","cityEnglishName":"yichun","cityIataCode":"YIC","pattern":"宜春 1713 yichun yc YIC","value":"宜春"},{"cityCode":1115,"cityName":"伊春","cityAbbr":"yc","cityEnglishName":"yichun","cityIataCode":"LDS","pattern":"伊春 1115 yichun yc LDS","value":"伊春"},{"cityCode":2613,"cityName":"运城","cityAbbr":"yc","cityEnglishName":"yuncheng","cityIataCode":"YCU","pattern":"运城 2613 yuncheng yc YCU","value":"运城"},{"cityCode":40547,"cityName":"延吉市","cityAbbr":"yjs","cityEnglishName":"yanjishi","cityIataCode":"YXJ","pattern":"延吉市 40547 yanjishi yjs YXJ","value":"延吉市"},{"cityCode":2712,"cityName":"榆林","cityAbbr":"yl","cityEnglishName":"yulin","cityIataCode":"UYN","pattern":"榆林 2712 yulin yl UYN","value":"榆林"},{"cityCode":42672,"cityName":"伊宁市","cityAbbr":"yns","cityEnglishName":"yiningshi","cityIataCode":"YIN","pattern":"伊宁市 42672 yiningshi yns YIN","value":"伊宁市"},{"cityCode":2310,"cityName":"玉树","cityAbbr":"ys","cityEnglishName":"yushu","cityIataCode":"YUS","pattern":"玉树 2310 yushu ys YUS","value":"玉树"},{"cityCode":2419,"cityName":"烟台","cityAbbr":"yt","cityEnglishName":"yantai","cityIataCode":"YNT","pattern":"烟台 2419 yantai yt YNT","value":"烟台"},{"cityCode":40810,"cityName":"义乌市","cityAbbr":"yws","cityEnglishName":"yiwushi","cityIataCode":"YIW","pattern":"义乌市 40810 yiwushi yws YIW","value":"义乌市"},{"cityCode":1513,"cityName":"永州","cityAbbr":"yz","cityEnglishName":"yongzhou","cityIataCode":"LLF","pattern":"永州 1513 yongzhou yz LLF","value":"永州"},{"cityCode":1622,"cityName":"扬州","cityAbbr":"yz","cityEnglishName":"yangzhou","cityIataCode":"YTY","pattern":"扬州 1622 yangzhou yz YTY","value":"扬州"},{"cityCode":1802,"cityName":"长春","cityAbbr":"zc","cityEnglishName":"changchun","cityIataCode":"CGQ","pattern":"长春 1802 changchun zc CGQ","value":"长春"},{"cityCode":628,"cityName":"珠海","cityAbbr":"zh","cityEnglishName":"zhuhai","cityIataCode":"ZUH","pattern":"珠海 628 zhuhai zh ZUH","value":"珠海"},{"cityCode":40414,"cityName":"长海县","cityAbbr":"zhx","cityEnglishName":"zhanghaixian","cityIataCode":"","pattern":"长海县 40414 zhanghaixian zhx ","value":"长海县"},{"cityCode":625,"cityName":"湛江","cityAbbr":"zj","cityEnglishName":"zhanjiang","cityIataCode":"ZHA","pattern":"湛江 625 zhanjiang zj ZHA","value":"湛江"},{"cityCode":1514,"cityName":"张家界","cityAbbr":"zjj","cityEnglishName":"zhangjiajie","cityIataCode":"DYG","pattern":"张家界 1514 zhangjiajie zjj DYG","value":"张家界"},{"cityCode":1016,"cityName":"张家口","cityAbbr":"zjk","cityEnglishName":"zhangjiakou","cityIataCode":"ZQZ","pattern":"张家口 1016 zhangjiakou zjk ZQZ","value":"张家口"},{"cityCode":3427,"cityName":"舟山","cityAbbr":"zs","cityEnglishName":"zhoushan","cityIataCode":"HSN","pattern":"舟山 3427 zhoushan zs HSN","value":"舟山"},{"cityCode":3321,"cityName":"昭通","cityAbbr":"zt","cityEnglishName":"zhaotong","cityIataCode":"","pattern":"昭通 3321 zhaotong zt ","value":"昭通"},{"cityCode":2206,"cityName":"中卫","cityAbbr":"zw","cityEnglishName":"zhongwei","cityIataCode":"ZHY","pattern":"中卫 2206 zhongwei zw ZHY","value":"中卫"},{"cityCode":811,"cityName":"遵义","cityAbbr":"zy","cityEnglishName":"zunyi","cityIataCode":"ZYI","pattern":"遵义 811 zunyi zy ZYI","value":"遵义"},{"cityCode":515,"cityName":"张掖","cityAbbr":"zy","cityEnglishName":"zhangye","cityIataCode":"YZY","pattern":"张掖 515 zhangye zy YZY","value":"张掖"},{"cityCode":1202,"cityName":"郑州","cityAbbr":"zz","cityEnglishName":"zhengzhou","cityIataCode":"CGO","pattern":"郑州 1202 zhengzhou zz CGO","value":"郑州"},{"cityCode":2603,"cityName":"长治","cityAbbr":"zz","cityEnglishName":"changzhi","cityIataCode":"","pattern":"长治 2603 changzhi zz ","value":"长治"}];var order_tab=function(){var validator={isEmpty:function(v){return!v;},isNumber:function(v){var pattern=/^\d+$/;return pattern.test(v);}}
var TrainTicketForm=function(){this.init();}
TrainTicketForm.prototype={init:function(argument){this.root=$("#train_form");this.input=this.root.find(".field_input");this.fromElt=this.input.eq(0);this.toElt=this.input.eq(1);this.dateElt=this.input.eq(2);this.gdElt=this.root.find("input[type=checkbox]");this.root.on("submit",$.proxy(this.submit,this));var autocompleteOption={dataType:"json",transformResult:function(response){if(response.code==200){response=response.data;_.each(response.suggestions,function(item){item.value=item.name;});}else{response=$.extend({"query":"","suggestions":[]},response.data);}
return response;},formatResult:function(suggestion){return suggestion.value+'('+suggestion.pinyin+')';}};$("#train_origin").citysearch({id:"pkg_train_ticket",cityUrl:"/yii.php?r=train/trainTicket/getStation",autocompleteOption:autocompleteOption});$("#train_destination").citysearch({id:"pkg_train_ticket",cityUrl:"/yii.php?r=train/trainTicket/getStation",autocompleteOption:autocompleteOption});this.datePicker();},datePicker:datePicker,validate:function(){var self=this;if(validator.isEmpty(this.fromName)){return{flag:false,target:self.fromElt}}
if(validator.isEmpty(this.toName)||this.toName==this.fromName){return{flag:false,target:self.toElt}}
if(validator.isEmpty(this.date)){return{flag:false,target:self.dateElt}}
return{flag:true};},submit:function(){var root=this.root;this.input.removeClass("error");this.fromName=this.fromElt.val();this.from=this.fromElt.attr("code");this.toName=this.toElt.val();this.to=this.toElt.attr("code");this.date=this.dateElt.val();this.onlyGD=this.gdElt.get(0).checked?1:0;var result=this.validate();if(!result.flag){$(result.target).addClass("error");return false;}
root.find("input[name=fromName]").val(this.fromName);root.find("input[name=from]").val(this.from);root.find("input[name=toName]").val(this.toName);root.find("input[name=to]").val(this.to);root.find("input[name=date]").val(this.date);root.find("input[name=onlyGD]").val(this.onlyGD);var action="http://huoche.tuniu.com/station_"+this.from+"_"+this.to;root.attr("action",action);}}
var OrderHotelForm=function(){this.init();}
OrderHotelForm.prototype={init:function(){this.root=$("#hotel_form");this.input=this.root.find(".field_input");this.domesticHotelElt=this.root.find("[name=hotel_type]").eq(0);this.globalHotelElt=this.root.find("[name=hotel_type]").eq(1);this.destinationCityElt=this.input.eq(0);this.globalDestinationCityElt=this.input.eq(1);this.checkindateElt=this.input.eq(3);this.checkoutdateElt=this.input.eq(4);var autocompleteOption={dataType:'jsonp',transformResult:function(response){if(response&&response.suggestions){_.each(response.suggestions,function(item){item.value=item.keyword;});}
return response;},formatResult:function(suggestion){var res=suggestion.value;res=res+'('+suggestion.keywordPinyin+')';return res;}};$("#hotel_origin").citysearch({id:"pkg_hotel",cityUrl:"http://hotel.tuniu.com/ajax/citySuggestion?jsoncallback=?",autocompleteOption:autocompleteOption});$("#global_hotel_origin").citysearch({id:"pkg_global_hotel",autocompleteOption:{disabled:true}});this.domesticHotelElt.on("click",$.proxy(this.onDomesticHotelClick,this));this.globalHotelElt.on("click",$.proxy(this.onGlobalHotelClick,this));this.root.on("submit",$.proxy(this.submit,this));this.datePicker();},validate:function(){var self=this;var hotelType=this.root.find('[name=hotel_type]:checked').val();if(1==hotelType&&validator.isEmpty(this.destinationCityName)){return{flag:false,target:self.destinationCityElt};}
if(2==hotelType&&validator.isEmpty(this.globalDestinationCityElt.val())){return{flag:false,target:self.globalDestinationCityElt};}
if(validator.isEmpty(this.checkindate)){return{flag:false,target:self.checkindateElt};}
if(validator.isEmpty(this.checkoutdate)||this.checkoutdate==this.checkindate){return{flag:false,target:self.checkoutdateElt};}
return{flag:true};},onDomesticHotelClick:function(e){this.destinationCityElt.val('').show();this.globalDestinationCityElt.hide();},onGlobalHotelClick:function(e){this.destinationCityElt.hide();this.globalDestinationCityElt.val('').show();},submit:function(){this.input.removeClass("error");this.destinationCityName=this.destinationCityElt.val();this.checkindate=this.checkindateElt.val();this.checkoutdate=this.checkoutdateElt.val();var result=this.validate();if(!result.flag){$(result.target).addClass("error");return false;}
var root=this.root;var hotelType=root.find('[name=hotel_type]:checked').val();if(2==hotelType){new globalHotel(this.root);return;}
$(root).find("input[name=checkindate]").val(this.checkindate);$(root).find("input[name=checkoutdate]").val(this.checkoutdate);$(root).find("input[name=keyword]").val(this.keyword);var action="http://hotel.tuniu.com/list/"+this.destinationCityName+"p0s0b0/";$(root).attr("action",action);},datePicker:datePicker}
var PkgForm=function(){this.init();}
PkgForm.prototype={init:function(){this.root=$("#pkg_form");this.input=this.root.find(".field_input");this.departureCityElt=this.input.eq(0),this.destinationCityElt=this.input.eq(1),this.departsDateElt=this.input.eq(2),this.destinationDateElt=this.input.eq(3),this.adultNumElt=this.input.eq(4),this.childNumElt=this.input.eq(5);var autocompleteOption={dataType:'json',transformResult:function(response){if(response.code==200){response=response.data;_.each(response.suggestions,function(item){item.value=item.name;});}else{response=$.extend({"query":"","suggestions":[]},response.data);}
return response;},formatResult:function(suggestion){return suggestion.value+'('+suggestion.pinyin+')';}};$("#pkg_origin").citysearch({id:"pkg_jjj_start",cityUrl:"/yii.php?r=dynamic/ajaxGetCity",autocompleteOption:autocompleteOption});$("#pkg_destination").citysearch({id:"pkg_jjj_end",cityUrl:"/yii.php?r=dynamic/ajaxGetCity",autocompleteOption:autocompleteOption});this.root.on("submit",$.proxy(this.submit,this));this.datePicker();},datePicker:datePicker,validate:function(){var self=this,flag=false,target=null;if(validator.isEmpty(this.departureCityName)){return{flag:false,target:self.departureCityElt};}
if(validator.isEmpty(this.destinationCityName)||this.destinationCityName==this.departureCityName){return{flag:false,target:self.destinationCityElt};}
if(validator.isEmpty(this.departsDate)){return{flag:false,target:self.departsDateElt};}
if(validator.isEmpty(this.destinationDate)||this.destinationDate==this.departsDate){return{flag:false,target:self.destinationDateElt};}
if(validator.isEmpty(this.adultNum)){return{flag:false,target:self.adultNumElt};}
if(!validator.isEmpty(this.adultNum)&&!validator.isNumber(this.adultNum)||this.adultNum>50){return{flag:false,target:self.adultNumElt};}
if(!validator.isEmpty(this.childNum)&&!validator.isNumber(this.childNum)||this.childNum>50){return{flag:false,target:self.childNumElt};}
return{flag:true};},submit:function(){this.departureCityName=this.departureCityElt.val(),this.departureCityCode=this.departureCityElt.attr("code");this.destinationCityName=this.destinationCityElt.val(),this.destinationCityCode=this.destinationCityElt.attr("code");this.departsDate=this.departsDateElt.val();this.destinationDate=this.destinationDateElt.val();this.adultNum=this.adultNumElt.val(),this.childNum=this.childNumElt.val();this.input.removeClass("error");var result=this.validate();var result=this.validate();if(!result.flag){$(result.target).addClass("error");return false;}
var root=this.root;$(root).find("input[name=departureCityName]").val(this.departureCityName);$(root).find("input[name=departureCityCode]").val(this.departureCityCode);$(root).find("input[name=destinationCityName]").val(this.destinationCityName);$(root).find("input[name=destinationCityCodes]").val(this.destinationCityCode);$(root).find("input[name=departsDate]").val(this.departsDate);$(root).find("input[name=destinationData]").val(this.destinationDate);$(root).find("input[name=hotel\\[cityName\\]\\[\\]]").val(this.destinationCityName);$(root).find("input[name=hotel\\[cityCode\\]\\[\\]]").val(this.destinationCityCode);$(root).find("input[name=hotel\\[departsDateBegin\\]\\[\\]]").val(this.departsDate);$(root).find("input[name=hotel\\[departsDateEnd\\]\\[\\]]").val(this.destinationDate);$(root).find("input[name=childNum]").val(this.childNum);$(root).find("input[name=adultNum]").val(this.adultNum);}}
var FlightForm=function(){this.init();}
FlightForm.prototype={init:function(){this.root=$("#flight_form");this.ticketDomesticElt=this.root.find("#flight_ticket_domestic");this.originElt=this.root.find("#flight_origin");this.destinationElt=this.root.find("#flight_destination");this.departureDateElt=this.root.find("#flight_departure_date");this.adultNumElt=this.root.find("#flight_adult_num");this.childNumElt=this.root.find("#flight_child_num");this.swithBtn=this.root.find(".switch_btn");this.swithBtn.on("click",$.proxy(this.onSwithBtnClick,this));this.adultNumElt.on("change",$.proxy(this.onAdultNumEltChange,this));var autocompleteOption={lookup:CitiesList,lookupFilter:function(suggestion,originalQuery,queryLowerCase){var re=new RegExp('\\b'+$.PkgAutocomplete.utils.escapeRegExChars(queryLowerCase),'gi');var flag=re.test(suggestion.pattern);if(!flag){if(suggestion.cityName.indexOf(originalQuery)!==-1){flag=true;}}
return flag;},formatResult:function(suggestion){return suggestion.cityName+'('+suggestion.cityEnglishName+')';}};$("#flight_origin").citysearch({id:"flight_cities",autocompleteOption:autocompleteOption});$("#flight_destination").citysearch({id:"flight_cities",autocompleteOption:autocompleteOption});this.root.on("submit",$.proxy(this.submit,this));this.datePicker();},datePicker:datePicker,validate:function(){var self=this;if(validator.isEmpty(this.origin)){return{flag:false,target:self.originElt};}
if(validator.isEmpty(this.destination)){return{flag:false,target:self.destinationElt};}
if(this.origin===this.destination){return{flag:false,target:self.destinationElt};}
if(validator.isEmpty(this.departureDate)){return{flag:false,target:self.departureDateElt};}
return{flag:true};},onSwithBtnClick:function(){this.clearErrors();var d1=this.originElt.val(),c1=this.originElt.attr("code"),d2=this.destinationElt.val(),c2=this.destinationElt.attr("code");this.originElt.val(d2);this.originElt.attr("code",c2);this.destinationElt.val(d1);this.destinationElt.attr("code",c1)},onAdultNumEltChange:function(e){var adultNum=parseInt(this.adultNumElt.val()),childNum=parseInt(this.childNumElt.val());var tmp1=9-adultNum,tmp2=adultNum*2,tmp;tmp=tmp1<tmp2?tmp1:tmp2;this.updateSelectOption(this.childNumElt,tmp);},updateSelectOption:function(target,n){$(target).empty();for(var i=0;i<=n;i++){$("<option></option").text(i).appendTo(target);}},clearErrors:function(){this.root.find(".field_input").removeClass("error");},submit:function(){this.clearErrors();this.ticketCategory=this.ticketDomesticElt.get(0).checked?1:2;this.origin=this.originElt.val();this.originCode=this.originElt.attr("code");this.destination=this.destinationElt.val();this.destinationCode=this.destinationElt.attr("code");this.departureDate=this.departureDateElt.val();this.adultNum=this.adultNumElt.val();this.childNum=this.childNumElt.val();var result=this.validate();if(!result.flag){$(result.target).addClass("error");return false;}
var root=this.root;$(root).find("input[name=depart]").val(this.origin);$(root).find("input[name=dest]").val(this.destination);$(root).find("input[name=start]").val(this.departureDate);$(root).find("input[name=adult]").val(this.adultNum);$(root).find("input[name=child]").val(this.childNum);var action="http://www.tuniu.com/flight/city_"+this.originCode+"_"+this.destinationCode+"/single";$(root).attr("action",action);}}
new TrainTicketForm();new OrderHotelForm();new PkgForm();new FlightForm();}
var aside_tab=function(){var root=$(".m_order_tab"),tabs=$(root).find(".tabs"),tabContents=$(root).find(".tab_contents");function switchTabTo(tab,ordinal){$(tab).find(".tabs li").not(".separator").removeClass("current");$(tab).find(".tab_contents>li").removeClass("current");$(tab).find(".tabs li.separator").show();var currentTab=$(tab).find(".tabs li").not(".separator").eq(ordinal).addClass("current");if(currentTab.prev().hasClass("separator")){currentTab.prev().hide();}
if(currentTab.next().hasClass("separator")){currentTab.next().hide();}
$(tab).find(".tab_contents>li").eq(ordinal).addClass("current");}
$(tabs).on("click","li",function(){if($(this).hasClass("separator"))
return;var tab=$(this).parents(".m_order_tab"),ordinal=$(this).prevAll().not(".separator").length;switchTabTo(tab,ordinal);});function trainForm(){var btn=$("#train_form .switch_btn"),input=$("#train_form input");btn.on("click",function(){var value=$(input).eq(0).val(),code=$(input).eq(0).attr("code");var value1=$(input).eq(1).val(),code1=$(input).eq(1).attr("code");$(input).eq(1).val(value).attr("code",code);$(input).eq(0).val(value1).attr("code",code1);});}
function getCurrentOrdinal(tab){return $(tab).find(".tabs li.current").prevAll().not(".separator").length;}
trainForm();}
order_tab();aside_tab();function jumpTo(url,target){if(!target)
target='_blank';var a=$('<form style="display:none;" id="jumpForm" action="'+url+'" target="'+target+'" method="post">__</form>');a.submit(function(){}).appendTo('body').submit();a.remove();}
function globalHotel(hotelForm){var ele=hotelForm[0].elements;var cityName=ele[3].value;var checkIn=ele[5].value.split('-');var checkOut=ele[6].value.split('-');function init(){var li=$('#pkg_global_hotel .cities_list li[title="'+cityName+'"] a');if(li[0]){var url=li.attr('url');var cityId=li.attr('cityId');var action=paramUrl(cityId,url);hotelForm.attr('method','post');hotelForm.attr('action',action);}else{var url='/yii.php?r=hotel/ajax/hotelUrl&cityName='+cityName;$.ajax({type:"GET",url:url,async:false,dataType:"json",success:function(data){if(data&&data.ufi){var url=data.searchUrl;var action=paramUrl(null,url);hotelForm.attr('method','post');hotelForm.attr('action',action);}else{var action=paramUrl(null,null);hotelForm.attr('method','post');hotelForm.attr('action',action);}},error:function(msg){var action=paramUrl(null,null);hotelForm.attr('method','post');hotelForm.attr('action',action);}});}}
function paramUrl(city,url){var host='globalhotel.tuniu.com';var urlPre='http://'+host+'/searchresults.zh-cn.html?src=searchresults';var params='&label=search'+'&checkin_monthday='+checkIn[2]+'&checkin_year_month='+checkIn[0]+'-'+checkIn[1]+'&checkout_monthday='+checkOut[2]+'&checkout_year_month='+checkOut[0]+'-'+checkOut[1];if('巴厘岛'==cityName)
return urlPre+params+'&si=ai%2Cco%2Cci%2Cre%2Cdi&region=835';if(url)
return url+params;if(!city)
return urlPre;return urlPre+params+'&dest_type=city&dest_id='+city+'&city='+city;}
init();}
function datePicker(){var dateInput=this.root.find('.wdatepicker');var dateInput2=$('#'+dateInput.attr('target'));dateInput.focus(function(){WdatePicker({minDate:'%y-%M-{%d}',isShowClear:true,readOnly:true,onpicked:function(dp){if(!dateInput2.get(0))return;var d=dp.$D(dateInput.attr('id'),{d:4});var f=function(i){var m=new String(i);return m.length==1?'0'+m:m;}
dateInput2.val(d.y+'-'+f(d.M)+'-'+f(d.d));}});});dateInput2.focus(function(){WdatePicker({minDate:'#F{$dp.$D(\''+dateInput.attr('id')+'\')||\'%y-%M-{%d}\'}',isShowClear:true,readOnly:true});})}